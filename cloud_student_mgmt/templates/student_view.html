{% extends "base.html" %}
{% block content %}
<div class="card">
  <h3>Student: {{ student.get('name') }} ({{ sid }})</h3>
  <p><strong>Class:</strong> {{ student.get('std_class') }} {{ student.get('section') }}</p>
  <p><strong>Email:</strong> {{ student.get('email') }}</p>
</div>
<div class="card">
  <h3>Recent Grades</h3>
  {% if grades %}
    <table>
      <thead><tr><th>Subject</th><th>Score</th><th>Term</th><th>When</th></tr></thead>
      <tbody>
        {% for g in grades %}
          <tr><td>{{ g.get('subject') }}</td><td>{{ g.get('score') }}</td><td>{{ g.get('term') }}</td><td>{{ g.get('created_at').strftime('%Y-%m-%d') if g.get('created_at') else '' }}</td></tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No grades yet.</p>
  {% endif %}
</div>
<div class="card">
  <h3>Recent Attendance</h3>
  {% if attendance %}
    <table>
      <thead><tr><th>Date</th><th>Status</th></tr></thead>
      <tbody>
        {% for a in attendance %}
          <tr><td>{{ a.get('date') }}</td><td>{{ a.get('status') }}</td></tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No attendance records yet.</p>
  {% endif %}
</div>
{% endblock %}
